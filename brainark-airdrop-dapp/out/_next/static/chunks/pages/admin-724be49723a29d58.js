(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6964],{80577:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(2693)}])},2693:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return g}});var t=a(85893),r=a(67294),n=a(31376),d=a(4785),i=e=>{let{children:s,fallback:a}=e,[i,l]=(0,r.useState)({isAuthenticated:!1,isLoading:!0,adminAddress:null,error:null}),c="0xc9de877a53f85bf51d76faed0c8c8842efb35782",o=["0xc9de877a53f85bf51d76faed0c8c8842efb35782","0xc9de877a53f85bf51d76faed0c8c8842efb35782","0xc9de877a53f85bf51d76faed0c8c8842efb35782",c].filter(Boolean);(0,r.useEffect)(()=>{m()},[]);let m=async()=>{try{if(!window.ethereum){l(e=>({...e,isLoading:!1,error:"MetaMask not installed"}));return}let e=new n.Q(window.ethereum),s=await e.send("eth_accounts",[]);if(0===s.length){l(e=>({...e,isLoading:!1}));return}let a=s[0];o.includes(a.toLowerCase())?l({isAuthenticated:!0,isLoading:!1,adminAddress:a,error:null}):l({isAuthenticated:!1,isLoading:!1,adminAddress:null,error:"Unauthorized wallet address. Only ".concat(c," has admin access.")})}catch(e){l({isAuthenticated:!1,isLoading:!1,adminAddress:null,error:e.message})}},x=async()=>{try{if(l(e=>({...e,isLoading:!0,error:null})),!window.ethereum)throw Error("MetaMask not installed");let e=new n.Q(window.ethereum),s=(await e.send("eth_requestAccounts",[]))[0];if(!o.includes(s.toLowerCase()))throw Error("Unauthorized: Only the admin wallet ".concat(c," can access this dashboard."));let a=await e.getSigner(),t=Date.now(),r="BrainArk Admin Access Verification\nTimestamp: ".concat(t,"\nAddress: ").concat(s,"\nSingle Admin System"),i=await a.signMessage(r);if(d.n(r,i).toLowerCase()!==s.toLowerCase())throw Error("Signature verification failed");l({isAuthenticated:!0,isLoading:!1,adminAddress:s,error:null})}catch(e){l({isAuthenticated:!1,isLoading:!1,adminAddress:null,error:e.message})}};return((0,r.useEffect)(()=>{if(window.ethereum){let e=e=>{0===e.length?l({isAuthenticated:!1,isLoading:!1,adminAddress:null,error:null}):m()};return window.ethereum.on("accountsChanged",e),()=>{window.ethereum.removeListener("accountsChanged",e)}}},[]),i.isLoading)?(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Verifying admin access..."})]})}):i.isAuthenticated?(0,t.jsx)(t.Fragment,{children:s}):a||(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD12"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Single Admin Access Required"}),(0,t.jsx)("p",{className:"text-gray-600",children:"This dashboard is restricted to the authorized admin wallet only"}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-blue-800 text-sm font-mono",children:["Admin: ",c.slice(0,6),"...",c.slice(-4)]})})]}),i.error&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 rounded-lg",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("span",{className:"text-red-400",children:"❌"})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-red-800 text-sm",children:i.error})})]})}),(0,t.jsx)("button",{onClick:x,disabled:i.isLoading,className:"w-full px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:i.isLoading?(0,t.jsxs)("span",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Verifying..."]}):"\uD83D\uDD10 Connect Admin Wallet"}),(0,t.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("span",{className:"text-yellow-400",children:"⚠️"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Single Admin System"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,t.jsx)("li",{children:"Only one wallet has admin privileges"}),(0,t.jsx)("li",{children:"You must sign a verification message"}),(0,t.jsx)("li",{children:"All access attempts are logged and monitored"}),(0,t.jsx)("li",{children:"This wallet also serves as USDT Treasury"})]})})]})]})}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Contact system administrator if you believe you should have access"})})]})})},l=a(6808),c=a(48470),o=a(7583),m=a(83454);let x={ethereum:{chainId:1,chainIdHex:"0x1",name:"Ethereum Mainnet",rpcUrl:m.env.ETHEREUM_RPC_URL||"https://mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},blockExplorerUrl:"https://etherscan.io"},bsc:{chainId:56,chainIdHex:"0x38",name:"BSC Mainnet",rpcUrl:m.env.BSC_RPC_URL||"https://bsc-dataseed1.binance.org/",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},blockExplorerUrl:"https://bscscan.com"},polygon:{chainId:137,chainIdHex:"0x89",name:"Polygon Mainnet",rpcUrl:m.env.POLYGON_RPC_URL||"https://polygon-rpc.com/",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},blockExplorerUrl:"https://polygonscan.com"},brainark:{chainId:424242,chainIdHex:"0x67932",name:"BrainArk Network",rpcUrl:"https://rpc.brainark.online",nativeCurrency:{name:"BrainArk Token",symbol:"BAK",decimals:18},blockExplorerUrl:"https://explorer.brainark.online"}},h=[{symbol:"ETH",name:"Ethereum",decimals:18,contractAddress:"0x0000000000000000000000000000000000000000",treasuryAddress:"0xC91A5902da7321054cEdAeB49ce9A6a3835Fc417",icon:"\uD83D\uDC8E",network:"ethereum",chainId:1},{symbol:"USDT",name:"Tether USD (Ethereum)",decimals:6,contractAddress:m.env.USDT_ETHEREUM_CONTRACT||"0xdAC17F958D2ee523a2206206994597C13D831ec7",treasuryAddress:"0xc9dE877a53f85BF51D76faed0C8c8842EFb35782",icon:"\uD83D\uDCB5",network:"ethereum",chainId:1},{symbol:"USDC",name:"USD Coin (Ethereum)",decimals:6,contractAddress:m.env.USDC_ETHEREUM_CONTRACT||"0xA0b86a33E6441b8C4505B8C4505B8C4505B8C4505",treasuryAddress:"0x3A9ca3d316F2032d3a21741cBea2e047fd3C1145",icon:"\uD83D\uDD35",network:"ethereum",chainId:1},{symbol:"BNB",name:"Binance Coin",decimals:18,contractAddress:"0x0000000000000000000000000000000000000000",treasuryAddress:"0x794F67aA174bD0A252BeCA0089490a58Cc695a05",icon:"\uD83D\uDFE1",network:"bsc",chainId:56},{symbol:"USDT",name:"Tether USD (BSC)",decimals:18,contractAddress:m.env.USDT_BSC_CONTRACT||"0x55d398326f99059fF775485246999027B3197955",treasuryAddress:"0xC13527f3bBAaf4cd726d07a78da9C5b74876527F",icon:"\uD83D\uDCB5",network:"bsc",chainId:56},{symbol:"USDC",name:"USD Coin (BSC)",decimals:18,contractAddress:m.env.USDC_BSC_CONTRACT||"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",treasuryAddress:"0x21FCcbB9b9b7c620BCbA61B6668C30F64C22859c",icon:"\uD83D\uDD35",network:"bsc",chainId:56},{symbol:"MATIC",name:"Polygon",decimals:18,contractAddress:"0x0000000000000000000000000000000000000000",treasuryAddress:"0x6351f025E2DDe967A1FAD29d0fF44C3620F4EED7",icon:"\uD83D\uDFE3",network:"polygon",chainId:137},{symbol:"USDT",name:"Tether USD (Polygon)",decimals:6,contractAddress:m.env.USDT_POLYGON_CONTRACT||"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",treasuryAddress:"0xd413afAB39D24462ACE36CFE5D710Ce9B813c84B",icon:"\uD83D\uDCB5",network:"polygon",chainId:137},{symbol:"USDC",name:"USD Coin (Polygon)",decimals:6,contractAddress:m.env.USDC_POLYGON_CONTRACT||"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",treasuryAddress:"0xE97BF18735a1AB4A1bA9DDF284D7798A5B0f8a84",icon:"\uD83D\uDD35",network:"polygon",chainId:137}];h.map(e=>({token:e,network:x[e.network],treasuryAddress:e.treasuryAddress,isNative:"0x0000000000000000000000000000000000000000"===e.contractAddress}));var u=()=>{var e,s;let[a,i]=(0,r.useState)({isAuthenticated:!1,adminAddress:null,isOwner:!1}),[m,u]=(0,r.useState)([]),[g,b]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),[y,w]=(0,r.useState)(null),N=["0xc9de877a53f85bf51d76faed0c8c8842efb35782","0xc9de877a53f85bf51d76faed0c8c8842efb35782","0xe45ab484e375f34a429169deb52c94ab49e8838f"].filter(Boolean),j=async()=>{try{if(!window.ethereum)throw Error("MetaMask not installed");let e=new n.Q(window.ethereum),s=(await e.send("eth_requestAccounts",[]))[0];if(!N.includes(s.toLowerCase()))throw Error("Unauthorized: Admin access required");let a=await e.getSigner(),t="BrainArk Admin Access - ".concat(Date.now()),r=await a.signMessage(t);if(d.n(t,r).toLowerCase()!==s.toLowerCase())throw Error("Signature verification failed");i({isAuthenticated:!0,adminAddress:s,isOwner:!0}),f(null)}catch(e){f(e.message),i({isAuthenticated:!1,adminAddress:null,isOwner:!1})}},A=async()=>{if(a.isAuthenticated){b(!0),f(null);try{let e=[];for(let s of h)try{let a=x[s.network],t=new l.r6(a.rpcUrl),r="0",n=0;if("0x0000000000000000000000000000000000000000"===s.contractAddress){let e=await t.getBalance(s.treasuryAddress);r=c.dF(e)}else{let e=new o.CH(s.contractAddress,["function balanceOf(address) view returns (uint256)"],t),a=await e.balanceOf(s.treasuryAddress);r=c.bM(a,s.decimals)}let d={ETH:2e3,BNB:300,MATIC:.8,USDT:1,USDC:1};n=parseFloat(r)*(d[s.symbol]||1),e.push({network:a.name,token:s.symbol,address:s.treasuryAddress,balance:r,balanceUSD:n,isAccessible:!0})}catch(a){e.push({network:x[s.network].name,token:s.symbol,address:s.treasuryAddress,balance:"0",balanceUSD:0,isAccessible:!1,error:a.message})}u(e),w(new Date)}catch(e){f(e.message)}finally{b(!1)}}};(0,r.useEffect)(()=>{if(a.isAuthenticated){A();let e=setInterval(A,3e5);return()=>clearInterval(e)}},[a.isAuthenticated]);let D=m.reduce((e,s)=>e+s.balanceUSD,0),v=m.filter(e=>e.isAccessible).length,C=m.length;return a.isAuthenticated?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"\uD83C\uDFE6 Treasury Dashboard"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Admin: ",null===(e=a.adminAddress)||void 0===e?void 0:e.slice(0,6),"...",null===(s=a.adminAddress)||void 0===s?void 0:s.slice(-4)]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{onClick:A,disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:g?"\uD83D\uDD04 Refreshing...":"\uD83D\uDD04 Refresh"}),(0,t.jsx)("button",{onClick:()=>{i({isAuthenticated:!1,adminAddress:null,isOwner:!1}),u([]),f(null)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"\uD83D\uDEAA Logout"})]})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCB0"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",D.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFE6"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Treasuries"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[v,"/",C]})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF10"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Networks"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"4"})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD04"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),(0,t.jsx)("p",{className:"text-sm font-bold text-gray-900",children:y?y.toLocaleTimeString():"Never"})]})]})})]}),p&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 rounded-lg",children:(0,t.jsxs)("p",{className:"text-red-800",children:["❌ ",p]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Treasury Balances"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Network"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Token"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"USD Value"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map((e,s)=>(0,t.jsxs)("tr",{className:e.isAccessible?"":"bg-red-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.network}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.token}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:[e.address.slice(0,6),"...",e.address.slice(-4)]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[parseFloat(e.balance).toLocaleString(void 0,{maximumFractionDigits:6})," ",e.token]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",e.balanceUSD.toLocaleString(void 0,{maximumFractionDigits:2})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.isAccessible?(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"✅ Active"}):(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"❌ Error"})})]},s))})]})})]}),(0,t.jsx)("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("span",{className:"text-yellow-400 text-xl",children:"⚠️"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Security Notice"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-yellow-700",children:(0,t.jsx)("p",{children:"This dashboard contains sensitive financial information and is restricted to authorized administrators only. All access attempts are logged and monitored."})})]})]})})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83D\uDD12 Admin Access Required"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Treasury dashboard is restricted to authorized administrators only"})]}),p&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 rounded-lg",children:(0,t.jsxs)("p",{className:"text-red-800 text-sm",children:["❌ ",p]})}),(0,t.jsx)("button",{onClick:j,className:"w-full px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"\uD83D\uDD10 Connect Admin Wallet"}),(0,t.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,t.jsxs)("p",{className:"text-yellow-800 text-sm",children:[(0,t.jsx)("strong",{children:"⚠️ Security Notice:"})," Only authorized admin wallets can access this dashboard. Your wallet address will be verified against the authorized list."]})})]})})},g=()=>(0,t.jsx)(i,{children:(0,t.jsx)(u,{})})}},function(e){e.O(0,[1420,2888,9774,179],function(){return e(e.s=80577)}),_N_E=e.O()}]);